.PHONY: all

# -------------------------------------
# 递归扩展变量
foo = $(bar)
bar = $(ugh)
ugh = Huh?
# -------------------------------------


# -------------------------------------
# 简单扩展变量
x = foo
y = $(x) b
x = later

xx := foo
yy := $(xx) b
xx := later

# -------------------------------------


# -------------------------------------
# 条件赋值变量
confoo = x
confoo ?= y

conbar ?= y
# -------------------------------------
# 混合赋值
objects = main.o foo.o bar.o utils.o
objects := $(objects) another.o
objects += addition.o
# -------------------------------------

all: first second third
# -------------------------------------
	@echo "\$$@ = $@"	
	@echo "$$^ = $^"
	@echo "$$< = $<"
# -------------------------------------

	@echo ""

# -------------------------------------
	@echo "MAKE = $(MAKE)"		
	@echo "MAKECMDGOALS = $(MAKECMDGOALS)"
# -------------------------------------

	@echo ""

# -------------------------------------
	@echo $(foo)
# -------------------------------------

	@echo ""

# -------------------------------------
	@echo "x = $(y), xx = $(yy)"
# -------------------------------------

	@echo ""

# -------------------------------------
	@echo "confoo = $(confoo), conbar = $(conbar)"
# -------------------------------------

	@echo ""

# -------------------------------------
	@echo $(objects)
# -------------------------------------

first second third:

