PHONY: clean

CC = gcc
RM = rm

# -------------------------------------
EXE = simple
SRCS = $(wildcard *.c)
OBJS = $(patsubst %.c, %.o, $(SRCS))
# -------------------------------------


# -------------------------------------
without_dir = foo.c bar.c main.c
with_dir := $(addprefix objs/, $(without_dir))
# -------------------------------------


# -------------------------------------
sources = foo.c bar.c baz.s ugh.h
sources := $(filter %.c %.s, $(sources))
# -------------------------------------


# -------------------------------------
objects = main1.o foo.o main2.o bar.o
result = $(filter-out main%.o, $(objects))
# -------------------------------------


# -------------------------------------
mixed = foo.c bar.c main.o
thing := $(patsubst %.c, %.o, $(mixed))
# -------------------------------------


# -------------------------------------
original = foo.c      			bar.c
stripped = $(strip $(original))	
# -------------------------------------


# -------------------------------------
srcs = $(wildcard *.c)
# -------------------------------------


# -------------------------------------
$(EXE): $(OBJS)
	$(CC) -o $@ $^

%.o: %.c
	@echo "\$$@ = $@, $$^ = $^"
	$(CC) -o $@ -c $^
# -------------------------------------


# -------------------------------------
addprefix:
	@echo $(with_dir)
# -------------------------------------


# -------------------------------------
filter:
	@echo $(sources)
# -------------------------------------


# -------------------------------------
filter-out:
	@echo $(result)
# -------------------------------------


# -------------------------------------
patsubst:
	@echo $(thing)
# -------------------------------------


# -------------------------------------
strip:
	@echo $(stripped)
# -------------------------------------


# -------------------------------------
wildcard:
	@echo $(srcs)
# -------------------------------------

clean:
	$(RM) $(EXE) $(OBJS)

